(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(2),a=n(5),r=n.n(a),c=(n(15),n(6)),i=n(7),o=n(1),u=n(10),l=n(9),d=n(4),h=n.n(d),j=n(8),x=(n(17),n.p+"static/media/adventure.182b6171.svg"),b=n(0),m=["A","B","C","D"];var w=function(e){var t=e.question.answers.map((function(t,n){return Object(b.jsxs)("div",{className:"question__answer\n                ".concat(e.isAnswered?"question__answer-unactive":"","\n                ").concat(e.isAnswered&&e.question.correctAnswer===n?"question__answer-correct":"","\n                ").concat(e.isAnswered&&e.question.correctAnswer!==n&&e.answered===n?"question__answer-incorrect":""),onClick:function(){return e.handleAnswerClick(n)},"data-index":n,children:[Object(b.jsx)("p",{className:"answer__letter",children:m[n]}),Object(b.jsx)("p",{className:"answer__text",children:t.name})]},n)}));return Object(b.jsxs)("div",{className:"question",children:[Object(b.jsx)("div",{className:"question__image",children:Object(b.jsx)("img",{src:x,alt:"adventure"})}),Object(b.jsxs)("div",{className:"question__text",children:[e.question.type?Object(b.jsx)("div",{className:"question__flag",children:Object(b.jsx)("img",{src:e.question.answers[e.question.correctAnswer].flag,alt:"flag"})}):"",Object(b.jsx)("p",{children:e.question.text})]}),Object(b.jsx)("div",{className:"question__answers",children:t}),e.isAnswered&&Object(b.jsx)("div",{className:"question__next",onClick:function(){return e.handleNextClick()},children:Object(b.jsx)("p",{children:"Next"})})]})},v=(n(19),n.p+"static/media/undraw_winners_ao2o 2.d76bfdf8.svg"),f=function(e){return Object(b.jsxs)("div",{className:"results",children:[Object(b.jsx)("div",{className:"results__img",children:Object(b.jsx)("img",{src:v,alt:"win"})}),Object(b.jsxs)("div",{className:"results__text",children:[Object(b.jsx)("h2",{children:"Results"}),Object(b.jsxs)("p",{children:["You got ",Object(b.jsx)("span",{className:e.score>3?"green":"red",children:e.score})," correct answer",e.score>1?"s":""]})]}),Object(b.jsx)("div",{className:"results__button",onClick:function(){return e.click()},children:Object(b.jsx)("p",{children:"Try again"})})]})},O=(n(20),[{name:"capital-city",text:"is the capital of"},{name:"flag",text:"Which country does this flag belong to ?"}]),p=function(){var e=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.eu/rest/v2/all");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).handleTryAgain=s.handleTryAgain.bind(Object(o.a)(s)),s.handleAnswerClick=s.handleAnswerClick.bind(Object(o.a)(s)),s.handleNextClick=s.handleNextClick.bind(Object(o.a)(s)),s.state={turns:0,endGame:!1,score:0,questionIsAnswered:!1,gameInitiated:!1},s}return Object(i.a)(n,[{key:"restartGame",value:function(){this.setState({turns:0,endGame:!1,score:0,questionIsAnswered:!1})}},{key:"handleAnswerClick",value:function(e){var t=this.state.question.correctAnswer===e;this.setState({questionIsAnswered:!0,score:t?this.state.score+1:this.state.score,turns:this.state.turns+1,answered:e})}},{key:"handleNextClick",value:function(){this.setState({questionIsAnswered:!1}),this.state.turns>9?this.setState({endGame:!0}):this.generateNextQuestion()}},{key:"handleTryAgain",value:function(){this.generateNextQuestion(),this.restartGame()}},{key:"generateNextQuestion",value:function(){var e=this,t={answers:[],type:Math.round(Math.random()),correctAnswer:Math.floor(4*Math.random())},n=[];p.then((function(s){for(var a=0;a<4;a++)n.push(s[Math.floor(Math.random()*s.length)]);var r;t.answers=n,r=t.type?O[t.type].text:"".concat(t.answers[t.correctAnswer].capital," ").concat(O[t.type].text),t.text=r,e.setState({question:t,gameInitiated:!0})}))}},{key:"render",value:function(){var e=this.state;return this.state.gameInitiated||this.generateNextQuestion(),Object(b.jsxs)("div",{className:"quiz",children:[Object(b.jsx)("h1",{className:"quiz__title",children:"COUNTRY QUIZ"}),Object(b.jsxs)("div",{className:"quiz__game",children:[!e.endGame&&e.gameInitiated&&Object(b.jsx)(w,{question:e.question,isAnswered:e.questionIsAnswered,handleAnswerClick:this.handleAnswerClick,handleNextClick:this.handleNextClick,answered:this.state.answered}),e.endGame&&Object(b.jsx)(f,{score:e.score,click:this.handleTryAgain})]})]})}}]),n}(s.Component);n(21);var g=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(_,{})})};r.a.render(Object(b.jsx)(g,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.ed7e8de4.chunk.js.map